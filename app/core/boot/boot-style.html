<dom-module id="boot-style">
  <script>
    (function() {
      'use strict';
      Polymer({
        is: 'boot-style',

        init: function() {
          return new Promise(function(resolve, reject) {
            this.resolve = resolve;
            this.reject = reject;
            this.importStyle();
          }.bind(this));
        },

        importStyle: function() {
          var style = store.getState().settings.style;
          return new Promise((resolve, reject) => {
            this.importHref('../../../content/styles/style-' + style + '.html', () => {
              var message = 'style loaded';
              app.runHook('styleImported');
              this.resolve({
                message: message
              });
            }, (err) => {
              this.reject(err);
            });
          });
        }
      });
    })();
  </script>
</dom-module>
